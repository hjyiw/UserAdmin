# 权限类型说明文档

## 一、权限标识说明

### 1. 权限标识格式

系统中的权限标识采用三级结构，格式为：`系统:模块:操作`，例如 `system:user:list`

每一级的含义如下：
- 第一级：系统/应用标识，表示权限所属的系统或应用
- 第二级：模块标识，表示权限所属的功能模块
- 第三级：操作标识，表示具体的操作权限类型

### 2. 常见权限标识说明

#### 用户管理相关权限

| 权限标识 | 说明 |
| ------- | ---- |
| system:user:list | 用户列表查看权限 |
| system:user:query | 用户详情查询权限 |
| system:user:add | 用户新增权限 |
| system:user:edit | 用户编辑权限 |
| system:user:remove | 用户删除权限 |

#### 角色管理相关权限

| 权限标识 | 说明 |
| ------- | ---- |
| system:role:list | 角色列表查看权限 |
| system:role:query | 角色详情查询权限 |
| system:role:add | 角色新增权限 |
| system:role:edit | 角色编辑权限 |
| system:role:remove | 角色删除权限 |

#### 部门管理相关权限

| 权限标识 | 说明 |
| ------- | ---- |
| system:dept:list | 部门列表查看权限 |
| system:dept:query | 部门详情查询权限 |
| system:dept:add | 部门新增权限 |
| system:dept:edit | 部门编辑权限 |
| system:dept:remove | 部门删除权限 |

### 3. 特殊权限标识

| 权限标识 | 说明 |
| ------- | ---- |
| *:*:* | 所有权限，通常分配给超级管理员 |

## 二、权限与数据权限的结合使用

在实际应用中，功能权限和数据权限通常结合使用：

1. **功能权限控制访问入口**：
   - 首先检查用户是否具有某个功能的操作权限，如 `system:user:list`
   - 如果没有权限，直接拒绝访问

2. **数据权限控制数据范围**：
   - 在通过功能权限检查后，再根据用户的数据权限过滤数据
   - 确保用户只能看到其权限范围内的数据

3. **示例场景**：
   - 用户A具有 `system:user:list` 权限，表示可以访问用户列表页面
   - 用户A的数据权限类型为"本部门"，表示只能看到自己部门的用户数据
   - 当用户A访问用户列表时，系统会返回其所在部门的用户数据，而不是所有用户数据

## 三、权限设计最佳实践

1. **权限粒度适中**：
   - 权限粒度过细会导致权限管理复杂
   - 权限粒度过粗会导致权限控制不够精确
   - 建议按照"模块+操作"的方式设计权限

2. **数据权限与业务结合**：
   - 数据权限应当根据业务需求设计
   - 不同模块可能需要不同的数据权限控制策略

3. **权限缓存优化**：
   - 权限验证是高频操作，应当合理使用缓存
   - 用户权限变更时及时更新缓存

4. **前后端权限一致**：
   - 前端根据权限控制UI元素的显示
   - 后端必须进行权限验证，不能仅依赖前端控制 